!function(a,b){"function"==typeof define&&define.amd?define(["../bower_components/angular/angular"],b):b(angular)}(angular||null,function(a){var b=a.module("ngCke",[]);return b.directive("ckeditor",["$timeout","$q",function(b,c){return{restrict:"A",require:["ngModel","^?form"],link:function(d,e,f,g){var h,i=g[1]||null,j=!1,k=[];"textarea"!=e[0].tagName.toLowerCase()&&e.attr("contenteditable",!0);var l=function(){var l={};l=a.extend(l,d[f.ckeditor]),h="textarea"==e[0].tagName.toLowerCase()?CKEDITOR.replace(e[0],l):CKEDITOR.inline(e[0],l);var m=function(a){var c=h.getData();""==c&&(c=null);var d=function(){a&&c==g[0].$viewValue?a&&i&&i.$setPristine():g[0].$setViewValue(c)};b(d,0)},n=function(a){if(k.length){var b=k.pop()||"";h.setData(b,function(){m(a),j=!0})}},o=function(){for(var a=["pasteState","change","blur","key"],b=0;b<a.length;b++)h.on(a[b],m);h.on("instanceReady",function(){d.$broadcast("ckeditor.ready"),d.$apply(function(){n(!0)}),h.document.on("keyup",m)}),h.on("customConfigload",function(){c.defer().resolve()})};o(),g[0].$render=function(){k.push(g[0].$viewValue),j&&n()}};l()}}}]),b.run(["$q","$timeout",function(b,c){function d(){"loaded"==CKEDITOR.status?(e.resolve(),CKEDITOR.on("load",d)):d()}var e=b.defer();if(a.isUndefined(CKEDITOR))throw new Error("The editor is not found");CKEDITOR.disableAutoInline=!1,c(d,50)}]),b});